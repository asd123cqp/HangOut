<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css"">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="css/custom.css"">
  <title>HangOut</title>
</head>
<body onload="">

  <!--==================== Navbar ====================-->
  <nav class="navbar sticky-top navbar-expand-md navbar-dark bg-dark">
    <a class="navbar-brand" href="index.html">HangOut</a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarColor03" aria-controls="navbarColor03" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div class="collapse navbar-collapse" id="navbarColor03">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item">
          <a class="nav-link" href="index.html">
            <span class="fa fa-home"></span> Home <span class="sr-only">(current)</span>
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="add_activity.html">
            <span class="fa fa-plus"></span> Create Activity
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="my_activities_attend.html">
            <span class="fa fa-comment"></span> My Activities
          </a>
        </li>
      </ul>

      <ul class="navbar-nav ml-auto">
        <li class="nav-item">
          <a id="show-username" class="nav-link" href="user.html">
            <span class="fa fa-user"></span> Sign in
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" onclick="logout()">
            <span class="fa fa-sign-out"></span> Sign out
          </a>
        </li>
      </ul>

    </div>
  </nav>
  <!--==================== Navbar ====================-->

  <!--==================== Content ====================-->
  <div class="container">
    <form class="form-horizontal" role="form">
      <div class="form-group">
         <label for="username" class="col-sm-4 control-label">Email</label>
         <div class="col-sm-7">
          <input id="username" type="text" class="form-control" name="account"
           placeholder="Please enter account name" value="">
         </div>
      </div>

      <div class="form-group">
         <label for="password" class="col-sm-4 control-label">Create a password</label>
         <div class="col-sm-7">
          <input id="password" type="password" class="form-control" name="password1"
           placeholder="Please enter password" value="">
         </div>
      </div>

      <div class="form-group">
         <label for="password" class="col-sm-4 control-label">Confirm your Password</label>
         <div class="col-sm-7">
          <input id="password2" type="password" class="form-control" name="password2"
           placeholder="Please confirm your password" value="">
         </div>
      </div>

      <div class="form-group">
        <label for="nickname" class="col-sm-4 control-label">Nickname</label>
        <div class="col-sm-7">
          <input id="nickname" type="text" class="form-control" name="nickname"
            placeholder="Please choose a nickname" value="">
        </div>
      </div>

      <div class="form-group">
        <label for="sex" class="col-sm-4 control-label">Gender</label>
        <div class="col-sm-7">
          <label class="checkbox-inline">
             <input type="radio" name="sex" id="male"
               value="male" checked> male
          </label>
          <label class="checkbox-inline">
             <input type="radio" name="sex" id="female"
               value="female"> female
          </label>
        </div>
      </div>

      <div class="form-group">
        <label for="age" class="col-sm-4 control-label">Age</label>
        <div class="col-sm-7">
          <input id="age" type="text" class="form-control" name="age"
          placeholder="Please enter your age" value="">
        </div>
      </div>

      <div class="form-group">
        <label for="tel" class="col-sm-4 control-label">Phone</label>
        <div class="col-sm-7">
          <input id="phone" type="text" class="form-control" name="phone"
          placeholder="Please enter your phone number" value="">
        </div>
      </div>

    </form>
    <div class="row">
      <div class="col-sm-6 col-sm-offset-3">
        <input type="submit" class="btn btn-primary btn-lg btn-block" onclick="registerUser()" value="Submit">
      </div>
    </div>
  </div>
  <!--==================== Content ====================-->

  <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.3/umd/popper.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="js/script.js"></script>
  <script>
    function registerUser() {
      $('input[type="submit"]').attr('disabled', true);
      var gen = "male";
      if (document.getElementById("female")) {
        gen = "female";
      }
      var info = {
        username: $("#username").val(),
        password: $("#password").val(),
        password2: $("#password2").val(),
        nickname: $("#nickname").val(),
        gender: gen,
        phone: $("#phone").val(),
        age: $("#age").val(),
      };

      console.log(JSON.stringify(info));

      $.ajax({
        url: 'https://w217imcezl.execute-api.us-east-1.amazonaws.com/test/register',
        type: 'post',
        dataType: 'json',
        contentType: "application/json",
        success: function (data) {
          $('input[type="submit"]').attr('disabled', false);
          location.href = 'register_success.html';
        },
        data: JSON.stringify(info),
      });
    }
  </script>
</body>
</html>
